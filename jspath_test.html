<html>
<head>
	<script type='text/javascript' src='jspath.js' ></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<style type="text/css">
		.square {
		    float: left;
		    width:20px;
		    height:20px;
		    display:block;
		    overflow:hidden;
		}
	</style>

</head>
<body>
	<font face="Monospace">
	<div id="test_area" style="border: 3px silver solid; float:left;">a </div>

	</font>
	<script>

		function _log(text){
			document.getElementById('text_area').innerHTML = text + "<br>" +document.getElementById('text_area').innerHTML;
		}

		function paint(matrix){		

			var cell;
			var background;
			var text = "<table border='0'>";
		
			for( row = 0; row < matrix.length; row++) {
				text = text + "<tr>"
		        	for( col = 0; col < matrix[row].length; col++) {
					var bg = "#C0C0C0";
					if ( smatrix[row][col] == "!" ){
						bg = 'pink';
					}
					if ( matrix[row][col] == "#" ){
						bg = 'black';
					}
		                	text = text + "<td><div class='square' style='background-color:"+bg+"; border:1px dashed gray;' >"+matrix[row][col]+"</div></td>";
			        }
				text = text + "</tr>";
			}
			text = text + "</table>";

			document.getElementById('test_area').innerHTML = text;
		}

		var matrix = jspath.create_matrix(20,30);
		var smatrix = jspath.create_matrix(20,30);
		var start = {row: 15, col: 25 }
		var goal = {row: 0, col: 0 }
		for( row = 0; row < matrix.length; row++) {
	        	for( col = 0; col < matrix[row].length; col++) {

				if ( Math.floor((Math.random()*10)+1) > 8 ){
					matrix[row][col] = '#';
				}
			}
		}

		// Setting Start and stop
		matrix[goal.row][goal.col] = '.';
		matrix[start.row][start.col] = '@';

		jspath.find_path2(matrix, start, goal);

		for ( var i = 0; i < jspath.shortest_path.length; i++){
			var p = jspath.shortest_path[i];
			smatrix[p.row][p.col] = "!";
		}

		matrix[start.row][start.col] = '@';
		matrix[goal.row][goal.col] = '$';

		paint(matrix);
	</script>


</body>
<html>


